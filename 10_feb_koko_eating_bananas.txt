#include <vector>
#include <algorithm>
#include <cmath>

using namespace std;

class Solution {
  public:
    int kokoEat(vector<int>& arr, int k) {
        // 1. Initialize search range
        // low is 1 because she must eat at least 1 banana/hr
        // high is the largest pile because eating faster than that doesn't save hours/pile
        int low = 1;
        int high = 0;
        
        // Find the maximum element in the array for the upper bound
        for (int pile : arr) {
            if (pile > high) high = pile;
        }
        
        int ans = high; // Initialize answer with the worst-case scenario

        // 2. Binary Search
        while (low <= high) {
            int mid = low + (high - low) / 2;
            
            // Calculate total hours needed at speed 'mid'
            long long total_hours = 0;
            for (int pile : arr) {
                // Equivalent to ceil(pile / mid)
                total_hours += (long long)(pile + mid - 1) / mid;
            }
            
            // 3. Check condition
            if (total_hours <= k) {
                // This speed is sufficient. Can we go slower?
                ans = mid;
                high = mid - 1;
            } else {
                // This speed is too slow (hours > k). We must eat faster.
                low = mid + 1;
            }
        }
        
        return ans;
    }
};