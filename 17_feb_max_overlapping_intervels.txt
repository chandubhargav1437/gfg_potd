#include <vector>
#include <algorithm>

using namespace std;

class Solution {
  public:
    int overlapInt(vector<vector<int>> &arr) {
        int n = arr.size();
        if (n == 0) return 0;
        
        vector<int> starts(n);
        vector<int> ends(n);
        
        // Separate start and end times
        for (int i = 0; i < n; i++) {
            starts[i] = arr[i][0];
            ends[i] = arr[i][1];
        }
        
        // Sort both arrays to process them in chronological order
        sort(starts.begin(), starts.end());
        sort(ends.begin(), ends.end());
        
        int max_overlap = 0;
        int current_overlap = 0;
        
        int i = 0; // Pointer for starts array
        int j = 0; // Pointer for ends array
        
        // Traverse through all events
        while (i < n && j < n) {
            // If the next interval starts before or exactly when the earliest ending interval finishes
            // (Use <= because intervals overlapping exactly at endpoints are inclusive)
            if (starts[i] <= ends[j]) {
                current_overlap++;
                max_overlap = max(max_overlap, current_overlap);
                i++;
            } 
            // If the earliest ending interval finishes before the next interval starts
            else {
                current_overlap--;
                j++;
            }
        }
        
        return max_overlap;
    }
};